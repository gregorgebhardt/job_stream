



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>job_stream.common &mdash; job_stream 0.1.32 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="job_stream.invoke" href="job_stream.invoke.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> job_stream
          

          
          </a>

          
            
            
              <div class="version">
                0.1.32
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../main.html">job_stream</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../python.html">Python API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../python.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="job_stream.baked.html">job_stream.baked</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_stream.inline.html">job_stream.inline</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_stream.invoke.html">job_stream.invoke</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">job_stream.common</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#members">Members</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../python.html#members">Members</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">job_stream</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../python.html">job_stream</a> &raquo;</li>
        
      <li>job_stream.common</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autosummary/job_stream.common.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-job_stream.common">
<span id="job-stream-common"></span><h1>job_stream.common<a class="headerlink" href="#module-job_stream.common" title="Permalink to this headline">¶</a></h1>
<p>The core job_stream adapter in Python.  This file is responsible for
providing adaptations for all of the needed C++ code.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">New users should look at using the <a class="reference internal" href="job_stream.inline.html#module-job_stream.inline" title="job_stream.inline"><code class="xref py py-mod docutils literal notranslate"><span class="pre">job_stream.inline</span></code></a> module instead
of the classes in this file.</p>
</div>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">job_stream</span> <span class="kn">import</span> <span class="n">common</span>
<span class="k">class</span> <span class="nc">AddOne</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">Job</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">handleWork</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">work</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">work</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">common</span><span class="o">.</span><span class="n">work</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span> <span class="p">])</span>
<span class="n">common</span><span class="o">.</span><span class="n">run</span><span class="p">({</span>
        <span class="s1">&#39;jobs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">AddOne</span> <span class="p">}</span>
        <span class="p">]</span>
<span class="p">})</span>
<span class="c1"># 9 and 10 will be printed</span>
</pre></div>
</div>
<p>Or:</p>
<blockquote>
<div>r = job_stream.map([8, 9], lambda w: w+1)
print(r)
# [ 9, 10 ] will be printed</div></blockquote>
<div class="section" id="members">
<h2>Members<a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="job_stream.common.Frame">
<em class="property">class </em><code class="descclassname">job_stream.common.</code><code class="descname">Frame</code><span class="sig-paren">(</span><em>(object)arg1</em><span class="sig-paren">)</span> &#x2192; None :<a class="reference internal" href="../_modules/job_stream/common.html#Frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_job_stream.Frame</span></code></p>
<p>Base class for a Frame.  A Frame is a special type of reducer that
performs some special behavior based on the work that begins the reduction.
Typically this is used for checking termination conditions in a recurring
algorithm:</p>
<p>import job_stream
class AddAb(job_stream.Job):</p>
<blockquote>
<div><dl class="docutils">
<dt>def handleWork(self, w):</dt>
<dd>self.emit(w + ‘Ab’)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>class MakeAtLeastTenLetters(job_stream.Frame):</dt>
<dd><dl class="first last docutils">
<dt>def handleFirst(self, store, w):</dt>
<dd>store.word = w</dd>
<dt>def handleNext(self, store, w):</dt>
<dd>store.word = w</dd>
<dt>def handleDone(self, store):</dt>
<dd><dl class="first last docutils">
<dt>if len(store.word) &lt; 10:</dt>
<dd>self.recur(store.word)</dd>
<dt>else:</dt>
<dd>self.emit(store.word)</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>job_stream.common.work = [ ‘abracadabra’, ‘Hey’, ‘Apples’ ]
# This’ll print out the unmodified abracadabra, add two Ab’s to Apples, and
# four Ab’s to Hey
job_stream.common.run({</p>
<blockquote>
<div><dl class="docutils">
<dt>‘jobs’: [ {</dt>
<dd>‘frame’: MakeAtLeastTenLetters,
‘jobs’: [ AddAb ]</dd>
</dl>
<p>} ]</p>
</div></blockquote>
<p>})</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<p>__init__( (object)arg1) -&gt; None :</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="job_stream.common.Frame._forceCheckpoint">
<code class="descname">_forceCheckpoint</code><span class="sig-paren">(</span><em>(Frame)arg1</em>, <em>(bool)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Frame._forceCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a checkpoint after this work.  If True is passed, cause the program to crash afterwards.</p>
<dl class="docutils">
<dt>C++ signature :</dt>
<dd>void _forceCheckpoint(PyFrame {lvalue},bool)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.emit">
<code class="descname">emit</code><span class="sig-paren">(</span><em>(Frame)arg1</em>, <em>(object)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Frame.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit to only target (outside of frame)</p>
<dl class="docutils">
<dt>C++ signature :</dt>
<dd>void emit(PyFrame {lvalue},boost::python::api::object)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.handleDone">
<code class="descname">handleDone</code><span class="sig-paren">(</span><em>store</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Frame.handleDone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Frame.handleDone" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the reduction is finished.  The reduction will be marked
as unfinished if a recur() happens.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.handleFirst">
<code class="descname">handleFirst</code><span class="sig-paren">(</span><em>store</em>, <em>work</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Frame.handleFirst"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Frame.handleFirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Called for the first work, which starts a reduction.  Store is an
empty Object() to which this method may assign attributes.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.handleNext">
<code class="descname">handleNext</code><span class="sig-paren">(</span><em>store</em>, <em>work</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Frame.handleNext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Frame.handleNext" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when finished work arrives at the Frame.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.postSetup">
<code class="descname">postSetup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Frame.postSetup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Frame.postSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when self.config is set and the Frame is fully ready for work,
but before any work is accepted.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Frame.recur">
<code class="descname">recur</code><span class="sig-paren">(</span><em>(Frame)arg1</em>, <em>(object)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Frame.recur" title="Permalink to this definition">¶</a></dt>
<dd><p>Recur to only target</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void recur(PyFrame {lvalue},boost::python::api::object)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>recur( (Frame)arg1, (object)arg2, (str)arg3) -&gt; None :</dt>
<dd><p class="first">Recur to specific target</p>
<dl class="last docutils">
<dt>C++ signature :</dt>
<dd>void recur(PyFrame {lvalue},boost::python::api::object,std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;)</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="job_stream.common.Job">
<em class="property">class </em><code class="descclassname">job_stream.common.</code><code class="descname">Job</code><span class="sig-paren">(</span><em>(object)arg1</em><span class="sig-paren">)</span> &#x2192; None :<a class="reference internal" href="../_modules/job_stream/common.html#Job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Job" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_job_stream.Job</span></code></p>
<p>Base class for a standard job (starts with some work, and emits zero or
more times).  Handles registration of job class with the job_stream
system.</p>
<p>Example:
import job_stream
class MyJob(job_stream.Job):</p>
<blockquote>
<div><p>‘’‘Adds 8 to an integer or floating point number’‘’
def handleWork(self, work):</p>
<blockquote>
<div>self.emit(work + 8)</div></blockquote>
</div></blockquote>
<p>job_stream.common.work = [ 1, 2, 3.0 ]
# This will print 9, 10, and 11.0
job_stream.run({ ‘jobs’: [ MyJob ] })</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<p>__init__( (object)arg1) -&gt; None :</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="job_stream.common.Job._forceCheckpoint">
<code class="descname">_forceCheckpoint</code><span class="sig-paren">(</span><em>(Job)arg1</em>, <em>(bool)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Job._forceCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a checkpoint after this work.  If True is passed, cause the program to crash afterwards.</p>
<dl class="docutils">
<dt>C++ signature :</dt>
<dd>void _forceCheckpoint(PyJob {lvalue},bool)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Job.emit">
<code class="descname">emit</code><span class="sig-paren">(</span><em>(Job)arg1</em>, <em>(object)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Job.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit to only target</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void emit(PyJob {lvalue},boost::python::api::object)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>emit( (Job)arg1, (object)arg2, (str)arg3) -&gt; None :</dt>
<dd><p class="first">Emit to specific target out of list</p>
<dl class="last docutils">
<dt>C++ signature :</dt>
<dd>void emit(PyJob {lvalue},boost::python::api::object,std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;)</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Job.handleWork">
<code class="descname">handleWork</code><span class="sig-paren">(</span><em>work</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Job.handleWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Job.handleWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle incoming work, maybe call self.emit() to generate more work
for jobs further down the pipe.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Job.postSetup">
<code class="descname">postSetup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Job.postSetup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Job.postSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when self.config is set and the Job is fully ready for work,
but before any work is accepted.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="job_stream.common.Object">
<em class="property">class </em><code class="descclassname">job_stream.common.</code><code class="descname">Object</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Object" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A generic object with no attributes of its own.</p>
</dd></dl>

<dl class="class">
<dt id="job_stream.common.Reducer">
<em class="property">class </em><code class="descclassname">job_stream.common.</code><code class="descname">Reducer</code><span class="sig-paren">(</span><em>(object)arg1</em><span class="sig-paren">)</span> &#x2192; None :<a class="reference internal" href="../_modules/job_stream/common.html#Reducer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_job_stream.Reducer</span></code></p>
<p>Base class for a Reducer.  A Reducer combines work emitted from the last
stage of a reduction, eventually emitting its own result to the next link
in the processing chain.  A reduction starts when a piece of work enters
a module guarded by a Reducer.</p>
<p>Example:
import job_stream
class AddLetterA(job_stream.Job):</p>
<blockquote>
<div><dl class="docutils">
<dt>def handleWork(self, w):</dt>
<dd>self.emit(w + ‘A’)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>class CountLetters(job_stream.Reducer):</dt>
<dd><p class="first">‘’‘Counts the number of letters passed to it’‘’
def handleInit(self, store):</p>
<blockquote>
<div>store.count = 0</div></blockquote>
<dl class="last docutils">
<dt>def handleAdd(self, store, work):</dt>
<dd>store.count += len(work)</dd>
<dt>def handleJoin(self, store, other):</dt>
<dd>store.count += other.count</dd>
<dt>def handleDone(self, store):</dt>
<dd>self.emit(store.count)</dd>
</dl>
</dd>
</dl>
<p>job_stream.common.work = [ ‘Hello’, ‘World’ ]
# Here the reduction starts at the global scope, so it will print out 12,
# which is the original 10 letters plus the two new letter A’s.
print(“First:”)
job_stream.run({</p>
<blockquote>
<div>‘reducer’: CountLetters,
‘jobs’: [ AddLetterA ]</div></blockquote>
<p>})
# This config has the reduction starting as part of the first job rather
# than the global scope, so this will print 6 twice (once for each work that
# we initially passed in).
print(“Second:”)
job_stream.run({</p>
<blockquote>
<div><dl class="docutils">
<dt>‘jobs’: [</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd>‘reducer’: CountLetters,
‘jobs’: [ AddLetterA ]</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>})</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<p>__init__( (object)arg1) -&gt; None :</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void __init__(_object*)</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="job_stream.common.Reducer._forceCheckpoint">
<code class="descname">_forceCheckpoint</code><span class="sig-paren">(</span><em>(Reducer)arg1</em>, <em>(bool)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Reducer._forceCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a checkpoint after this work.  If True is passed, cause the program to crash afterwards.</p>
<dl class="docutils">
<dt>C++ signature :</dt>
<dd>void _forceCheckpoint(PyReducer {lvalue},bool)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.emit">
<code class="descname">emit</code><span class="sig-paren">(</span><em>(Reducer)arg1</em>, <em>(object)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Reducer.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit to only target (outside of reducer)</p>
<dl class="docutils">
<dt>C++ signature :</dt>
<dd>void emit(PyReducer {lvalue},boost::python::api::object)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.handleAdd">
<code class="descname">handleAdd</code><span class="sig-paren">(</span><em>store</em>, <em>work</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Reducer.handleAdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer.handleAdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when new work arrives at the Reducer.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.handleDone">
<code class="descname">handleDone</code><span class="sig-paren">(</span><em>store</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Reducer.handleDone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer.handleDone" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the reduction is finished.  The reduction will be marked
as unfinished if a recur() happens.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.handleInit">
<code class="descname">handleInit</code><span class="sig-paren">(</span><em>store</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Reducer.handleInit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer.handleInit" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a reduction is started.  Store is a python object that
should be modified to remember information between invocations.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.handleJoin">
<code class="descname">handleJoin</code><span class="sig-paren">(</span><em>store</em>, <em>other</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Reducer.handleJoin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer.handleJoin" title="Permalink to this definition">¶</a></dt>
<dd><p>Called to merge two stores from the same Reducer.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.postSetup">
<code class="descname">postSetup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#Reducer.postSetup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.Reducer.postSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when self.config is set and the Job is fully ready for work,
but before any work is accepted.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common.Reducer.recur">
<code class="descname">recur</code><span class="sig-paren">(</span><em>(Reducer)arg1</em>, <em>(object)arg2</em><span class="sig-paren">)</span> &#x2192; None :<a class="headerlink" href="#job_stream.common.Reducer.recur" title="Permalink to this definition">¶</a></dt>
<dd><p>Recur to only target</p>
<blockquote>
<div><dl class="docutils">
<dt>C++ signature :</dt>
<dd>void recur(PyReducer {lvalue},boost::python::api::object)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>recur( (Reducer)arg1, (object)arg2, (str)arg3) -&gt; None :</dt>
<dd><p class="first">Recur to specific target</p>
<dl class="last docutils">
<dt>C++ signature :</dt>
<dd>void recur(PyReducer {lvalue},boost::python::api::object,std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;)</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="job_stream.common._StackAlreadyPrintedError">
<em class="property">exception </em><code class="descclassname">job_stream.common.</code><code class="descname">_StackAlreadyPrintedError</code><a class="reference internal" href="../_modules/job_stream/common.html#_StackAlreadyPrintedError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._StackAlreadyPrintedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>An exception to be used if the stack trace has already been printed,
and an exception needs to be raised just to communicate to job_stream to
abort.</p>
<dl class="method">
<dt id="job_stream.common._StackAlreadyPrintedError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#job_stream.common._StackAlreadyPrintedError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="job_stream.common._Work">
<em class="property">class </em><code class="descclassname">job_stream.common.</code><code class="descname">_Work</code><a class="reference internal" href="../_modules/job_stream/common.html#_Work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._Work" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>List of initial work sent into job_stream.
If left empty, work comes from stdin.</p>
<dl class="method">
<dt id="job_stream.common._Work.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span> &#x2192; None -- append object to end<a class="headerlink" href="#job_stream.common._Work.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None -- remove all items from L<a class="headerlink" href="#job_stream.common._Work.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list -- a shallow copy of L<a class="headerlink" href="#job_stream.common._Work.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; integer -- return number of occurrences of value<a class="headerlink" href="#job_stream.common._Work.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>iterable</em><span class="sig-paren">)</span> &#x2192; None -- extend list by appending elements from the iterable<a class="headerlink" href="#job_stream.common._Work.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer -- return first index of value.<a class="headerlink" href="#job_stream.common._Work.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#job_stream.common._Work.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>L.insert(index, object) – insert object before index</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em>index</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; item -- remove and return item at index (default last).<a class="headerlink" href="#job_stream.common._Work.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; None -- remove first occurrence of value.<a class="headerlink" href="#job_stream.common._Work.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.reverse">
<code class="descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#job_stream.common._Work.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>L.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="method">
<dt id="job_stream.common._Work.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>key=None</em>, <em>reverse=False</em><span class="sig-paren">)</span> &#x2192; None -- stable sort *IN PLACE*<a class="headerlink" href="#job_stream.common._Work.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="job_stream.common._cpuThreadTime">
<code class="descclassname">job_stream.common.</code><code class="descname">_cpuThreadTime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#_cpuThreadTime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._cpuThreadTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current thread’s CPU time in seconds.  Used for tests of
profiling, mostly.</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common._decode">
<code class="descclassname">job_stream.common.</code><code class="descname">_decode</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes an object with cPickle</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common._encode">
<code class="descclassname">job_stream.common.</code><code class="descname">_encode</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#_encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes an object with cPickle</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common._initMultiprocessingPool">
<code class="descclassname">job_stream.common.</code><code class="descname">_initMultiprocessingPool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#_initMultiprocessingPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common._initMultiprocessingPool" title="Permalink to this definition">¶</a></dt>
<dd><p>The multiprocessing pool is initialized lazily by default, to avoid
overhead if no jobs are using multiprocessing</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.getCpuCount">
<code class="descclassname">job_stream.common.</code><code class="descname">getCpuCount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#getCpuCount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.getCpuCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Retunrs the number of CPUs in the cluster.  Must be called within a
job_stream, or will raise an error.</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.getHostCpuCount">
<code class="descclassname">job_stream.common.</code><code class="descname">getHostCpuCount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#getHostCpuCount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.getHostCpuCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of CPUs on this host.  Must be called within a
job_stream, or will raise an error.</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.getRank">
<code class="descclassname">job_stream.common.</code><code class="descname">getRank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#getRank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.getRank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the rank (integer index) of this processor.  Typically, this
value is checked against 0 for work that should only happen once, e.g.
init code.</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.invoke">
<code class="descclassname">job_stream.common.</code><code class="descname">invoke</code><span class="sig-paren">(</span><em>progAndArgs</em>, <em>transientErrors=[]</em>, <em>maxRetries=20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#invoke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.invoke" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it can be difficult to launch some programs from an MPI distributed
application, job_stream provides invoke functionality to safely launch an
external program (launching an application such as Xyce, for instance, can
cause problems if the environment variables are not doctored appropriately).</p>
<p>progAndArgs: list, [ ‘path/to/file’, <a href="#id1"><span class="problematic" id="id2">*</span></a>args ]</p>
<dl class="docutils">
<dt>transientErrors: list of strings, if any of these strings are found in the</dt>
<dd><p class="first">stderr of the program, then any non-zero return code is considered
a transient error and the application will be re-launched up to
maxRetries times.</p>
<p class="last">Note that “No child processes” is automatically handled as
transient.</p>
</dd>
<dt>maxRetries: The maximum number of times to run the application if there are</dt>
<dd>transient errors.  Only the final (successful) results are returned.</dd>
</dl>
<p>Returns: (contents of stdout, contents of stderr)</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.map">
<code class="descclassname">job_stream.common.</code><code class="descname">map</code><span class="sig-paren">(</span><em>func</em>, <em>*sequence</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns [ func(<a href="#id3"><span class="problematic" id="id4">*</span></a>a) for a in sequence ] in a parallel manner.  Identical
to the builtin map(), except parallelized.</p>
<p>kwargs - Passed to job_stream.run().</p>
</dd></dl>

<dl class="function">
<dt id="job_stream.common.run">
<code class="descclassname">job_stream.common.</code><code class="descname">run</code><span class="sig-paren">(</span><em>configDictOrPath</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/job_stream/common.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#job_stream.common.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the given YAML file or config dictionary.</p>
<dl class="docutils">
<dt>Acceptable kwargs:</dt>
<dd><p class="first">checkpointFile - (string) The file to use for checkpoint / restore
checkpointInterval - (float) The time between the completion of one</p>
<blockquote>
<div>checkpoint and the starting of the next, in seconds.</div></blockquote>
<dl class="last docutils">
<dt>checkpointSyncInterval - (float) The time between all processors</dt>
<dd>thinking they’re ready to checkpoint and the actual checkpoint.</dd>
<dt>handleResult - (callable) The default is to print out repr(result).  If</dt>
<dd>specified, this function will be called instead with the output
work as an argument.  Note that this goes outside of checkpointing!
If you are saving work into an array, for example, and want to be
checkpoint-safe, this method MUST save what it needs to file.</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="job_stream.invoke.html" class="btn btn-neutral" title="job_stream.invoke" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Walt Woods.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.32',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>