



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; job_stream 0.1.32 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Roadmap" href="roadmap.html" />
    <link rel="prev" title="job_stream" href="main.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> job_stream
          

          
          </a>

          
            
            
              <div class="version">
                0.1.32
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="main.html">job_stream</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">job_stream</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first">2018-7-30 - Fixed compilation with Boost 1.67.0.  Now using Boost’s official boost::process implementation rather than the unofficial one that was bundled with job_stream previously.</p>
<p>Python version bumped to 0.1.32.</p>
</li>
<li><p class="first">2017-3-4 - Allowed <a class="reference internal" href="_autosummary/job_stream.inline.html#job_stream.inline.Work.job" title="job_stream.inline.Work.job"><code class="xref py py-meth docutils literal notranslate"><span class="pre">job_stream.inline.Work.job()</span></code></a> to be passed keyword argument <code class="docutils literal notranslate"><span class="pre">useMultiprocessing</span></code> to disable multiprocessing on a single-job basis.</p>
</li>
<li><p class="first">2017-2-9 - Added stability for checkpoints and errors.  There was an issue with the Jan. 31st commit.  Version bump to 0.1.30.</p>
</li>
<li><p class="first">2017-1-31 - Fixed checkpointInfo from python.  Slightly more rigorous preservation of data with checkpoints in the face of exceptions.</p>
</li>
<li><p class="first">2016-10-27 - Fixed bug where requested a checkpoint file whose parent does not exist would cause the whole job_stream to hang.  Python version bump to 0.1.29.</p>
</li>
<li><p class="first">2016-10-20 - Modified Processor behavior to automatically call MPI_Abort when an exception is thrown by a job.  This fixes some hangs when errors were raised in Python code, and should make job_stream behave more robustly in general.</p>
<p>The job_stream binary was also modified to pass the <code class="docutils literal notranslate"><span class="pre">mca</span></code> flag <code class="docutils literal notranslate"><span class="pre">orte_abort_on_non_zero_status</span></code>, to make sure that an arbitrary death of a process also causes MPI_Abort to be called.</p>
</li>
<li><p class="first">2016-10-18 - Hostfile lines may now specify e.g. <code class="docutils literal notranslate"><span class="pre">cpus=8</span></code> after a hostname to
manually set the number of cores to be used by job_stream on a given machine.</p>
</li>
<li><p class="first">2016-10-12 - Added <code class="docutils literal notranslate"><span class="pre">--map-by</span> <span class="pre">node</span></code> to <code class="docutils literal notranslate"><span class="pre">job_stream</span></code> binary’s flags for <code class="docutils literal notranslate"><span class="pre">mpirun</span></code>.
Apparently, newer versions of MPI restrict spawned processes to a single core.
Since job_stream does its own parallelization, this prevented any
parallelization at all on a single machine, which was disastrous.</p>
</li>
<li><p class="first">2016-10-11 - <a class="reference internal" href="_autosummary/job_stream.invoke.html#job_stream.invoke" title="job_stream.invoke"><code class="xref any py py-func docutils literal notranslate"><span class="pre">job_stream.invoke</span></code></a> is now more intelligent about raising
errors for non-existent executables.</p>
</li>
<li><p class="first">2016-8-8 - Fixes for <a class="reference internal" href="_autosummary/job_stream.baked.html#job_stream.baked.sweep" title="job_stream.baked.sweep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">job_stream.baked.sweep()</span></code></a> as well as checkpoint
continuations.</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">sweep()</span></code> no longer erroneously produces negative standard deviations.
Additionally, <code class="xref py py-meth docutils literal notranslate"><span class="pre">sweep()</span></code> logs to stderr to show that progress is
occurring.</p>
<p>Checkpoint continuations now correctly handle cpuCount.  Python bindings do
not eagerly fork for multiprocessing tasks, leading to correct handling of
cpuCount on continuation (vital for <code class="xref py py-meth docutils literal notranslate"><span class="pre">sweep()</span></code>).</p>
<p>Minor C++ compilation errors fixed.</p>
<p>Python version bumped to 0.1.24.</p>
</li>
<li><p class="first">2016-7-28 - Minor change to <a class="reference internal" href="_autosummary/job_stream.baked.html#job_stream.baked.sweep" title="job_stream.baked.sweep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">job_stream.baked.sweep()</span></code></a>; now allows
specifying minimum and maximum number of trials in trialsParms.  Should not
be needed for most use cases, but for e.g. calculating pi naively, it is good
to be able to raise the minimum number of trials above 3.</p>
<p>Python version bumped to 0.1.23.</p>
</li>
<li><p class="first">2016-7-27 - <a class="reference internal" href="_autosummary/job_stream.baked.html#module-job_stream.baked" title="job_stream.baked"><code class="xref py py-mod docutils literal notranslate"><span class="pre">job_stream.baked</span></code></a> module.  Vastly improved documentation.
Python bump to 0.1.22.  job_stream.__version__ added in Python.</p>
</li>
<li><p class="first">2016-7-13 - Minor fix for bin/job_stream; hosts now remain sorted in their
original order, fixing the server with rank 0 to a specific host.</p>
</li>
<li><p class="first">2016-7-07 - mpirun doesn’t automatically forward environment variables; this
has been fixed for the job_stream binary.  Python version bump to 0.1.19.</p>
</li>
<li><p class="first">2016-7-05 - Checkpoints now make a .done file to prevent accidental results
overwriting.  Updated job_stream binary to be able to specify checkpoints
and to have a slightly improved interface.  Python version to 0.1.18.</p>
</li>
<li><p class="first">2016-6-28 - Added job_stream binary to stop users from needing to know how
to use mpirun, and more importantly, to open the way for uses like maxCpu
or flagging other resources.</p>
</li>
<li><p class="first">2016-6-27 - A fix and additional testing for multiprocessing timing code.
Streamlined to be more effective to boot.  Version to 0.1.14.</p>
</li>
<li><p class="first">2016-6-24 - Fixed python timing code for multiprocessing.  Reported CPU
efficiencies are now valid for python code.  Version bump to 0.1.13.</p>
</li>
<li><p class="first">2016-6-23 - job_stream now processes work in a depth-first fashion rather
than breadth-first.  The utility of this change is for progress bars; no
functionality should be altered as an effect of this change.</p>
<p>Updated multiprocessing in Python driver to work with new code organization,
multiprocessing was not effective before.  Stats still need to be fixed there.
Version bump to 0.1.12.</p>
</li>
<li><p class="first">2016-6-22 - inline.Multiple() in Python now ignores None results.
Version 0.1.11.</p>
</li>
<li><p class="first">2016-6-14 - Python 3 support and embedded two of the boost libraries that
are not typically associated with boost-python.  In other words, a
<cite>conda install boost</cite> preceding a <cite>pip install job_stream</cite> now works with
both Python 2 and 3.  System boost libraries should still work as before
(although job_stream might use an outdated version of boost-mpi).</p>
<p>Version bump to 0.1.8, 0.1.9 and 0.1.10 (build fix).</p>
</li>
<li><p class="first">2016-4-14 - Added a <cite>map()</cite> function that is compatible with the builtin
<cite>map()</cite> function.</p>
</li>
<li><p class="first">2015-5-26 - README warning about Frames and Reducers that store a list of
objects.  Python inline frames can specify useMultiprocessing=False separate
from the work.  Minor efficiency improvement to copy fewer Python object
strings.</p>
</li>
<li><p class="first">2015-5-21 - Build on Mac OS X is now fixed.</p>
</li>
<li><p class="first">2015-3-26 - <cite>job_stream.inline.Work</cite> can now be used in <cite>with</cite> blocks and has
a <cite>finish()</cite> method.  Args for <cite>Work.run()</cite> were moved to <cite>Work</cite>’s
initializer.</p>
</li>
<li><p class="first">2015-2-6 - job_stream.inline python module can disable multiprocessing by
passing useMultiprocessing = False in the <cite>Work</cite> object’s initializer.</p>
</li>
<li><p class="first">2015-1-30 - Updated README to include job_stream.invoke, and exposed
checkpointInfo function for debugging.</p>
</li>
<li><p class="first">2015-1-29 - Added inline.result() function, which lets users write code that
is executed exactly once per result, and always on the main host.</p>
</li>
<li><p class="first">2015-1-28 - Added inline.init() function, which ensures code is only executed
once regardless of checkpoint or host status.</p>
</li>
<li><p class="first">2015-1-7 - Added job_stream.invoke to the python module.  Useful for launching
an external process, e.g. Xyce.</p>
</li>
<li><p class="first">2014-12-26 - Finished up job_stream.inline, the more intuitive way to
parallelize using job_stream.  Minor bug fixes, working on README.  Need
to curate everything and fix the final test_pipes.py test that is failing
before redeploying to PyPI</p>
</li>
<li><p class="first">2014-12-23 - Embedded yaml-cpp into job_stream’s source to ease compilation.
Bumped PyPI to 0.1.3.</p>
</li>
<li><p class="first">2014-12-22 - Finished python support (initial version, anyway).  Supports
config, multiprocessing, proper error reporting.  Pushed version 0.1.2 to
PyPI :)</p>
</li>
<li><p class="first">2014-12-18 - Python support.  Frame methods renamed for clarity
(handleWork -&gt; handleNext).  Frames may now be specified as a string for
type, just like reducers.</p>
</li>
<li><p class="first">2014-12-04 - Checkpoints no longer are allowed for interactive mode.  All input must be spooled into the system before a checkpoint will be allowed.</p>
</li>
<li><p class="first">2014-11-14 - Fixed job_stream checkpoints to be continuous.  That is, a checkpoint no longer needs current work to finish in order to complete.  This
cuts the runtime for checkpoints from several hours in some situations down
to a couple of seconds.  Also, added test-long to cmake, so that tests can
be run repeatedly for any period of time in order to track down transient
failures.</p>
<p>Fixed a bug with job_stream::invoke which would lock up if a program wrote
too much information to stderr or stdout.</p>
<p>Re-did steal ring so that it takes available processing power into account.</p>
</li>
<li><p class="first">2014-11-06 - Fixed invoke::run up so that it supported retry on user-defined
transient errors (For me, Xyce was having issues creating a sub directory
and would crash).</p>
</li>
<li><p class="first">2014-11-03 - Added –checkpoint-info for identifying what makes checkpoint
files so large sometimes.  Miscellaneous cleanup to –help functionality.
Serialization will refuse to serialize a non-pointer version of a polymorphic
class, since it takes a long time to track down what’s wrong in that
situation.</p>
</li>
<li><p class="first">2014-10-17 - Apparently yaml-cpp is not thread safe.  Wtf.  Anyway, as a
“temporary” solution, job_stream now uses some custom globally locked classes
as a gateway to yaml-cpp.  All functionality should still work exactly like
vanilla yaml-cpp.</p>
<p>Also, no work happens during a checkpoint now.  That was causing corrupted
checkpoint files with duplicated ring tests.</p>
</li>
<li><p class="first">2014-9-10 - Fixed up duplicated and end-of-job-sequence (output) submodules.
Host name is now used in addition to MPI rank when reporting results.</p>
</li>
<li><p class="first">2014-6-13 - Finalized checkpoint code for initial release.  A slew of new
tests.</p>
</li>
<li><p class="first">2014-4-24 - Fixed up shared_ptr serialization.  Fixed synchronization issue
in reduction rings.</p>
</li>
<li><p class="first">2014-2-19 - Added Frame specialization of Reducer.  Expects a different
first work than subsequent.  Usage pattern is to do some initialization work
and then recur() additional work as needed.</p>
</li>
<li><p class="first">2014-2-12 - Serialization is now via pointer, and supports polymorphic classes
completely unambiguously via dynamic_cast and
job_stream::serialization::registerType.  User cpu % updated to be in terms of
user time (quality measure) for each processor, and cumulative CPUs for
cumulative time.</p>
</li>
<li><p class="first">2014-2-5 - In terms of user ticks / wall clock ms, less_serialization is on
par with master (3416 vs 3393 ticks / ms, 5% error), in addition
to all of the other fixes that branch has.  Merged in.</p>
</li>
<li><p class="first">2014-2-4 - Got rid of needed istream specialization; use an if and a
runtime_exception.</p>
</li>
<li><p class="first">2014-2-4 - handleWork, handleAdd, and handleJoin all changed to take a
unique_ptr rather than references.  This allows preventing more memory
allocations and copies.  Default implementation with += removed.</p>
</li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="roadmap.html" class="btn btn-neutral float-right" title="Roadmap" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="main.html" class="btn btn-neutral" title="job_stream" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Walt Woods.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.32',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>